!function(e){e.module("moviecat.movie_list",["ngRoute"]).config(["$routeProvider",function(e){e.when("/:movieType/:page?",{templateUrl:"./movie_list/view.html",controller:"MovieListController"})}]).controller("MovieListController",["$scope","$http","$routeParams","$route","itcastJSONP",function(e,o,t,a,i){e.isLoaded=!0,e.pageSize=5,e.curPage=t.page||1;var l=(e.curPage-1)*e.pageSize;i.jsonp("https://api.douban.com/v2/movie/"+t.movieType,{start:l,count:e.pageSize,q:t.q||""},function(o){console.log(o),e.movie=o,e.totalPages=Math.ceil(o.total/e.pageSize),e.isLoaded=!1,e.$apply()}),e.goPages=function(o){o<=0||o>e.totalPages||a.updateParams({page:o})}}])}(angular);